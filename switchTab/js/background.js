(()=>{"use strict";({136:function(){var t=this&&this.__awaiter||function(t,n,i,e){return new(i||(i=Promise))((function(o,c){function d(t){try{s(e.next(t))}catch(t){c(t)}}function r(t){try{s(e.throw(t))}catch(t){c(t)}}function s(t){var n;t.done?o(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(d,r)}s((e=e.apply(t,n||[])).next())}))};const n=chrome.tabs;let i=[];chrome.runtime.onMessage.addListener(((n,{tab:e},o)=>t(void 0,void 0,void 0,(function*(){if("checkNumber"===n.action){const t=function(t,n){for(let e=1;e<10;e++){const o=i[e];if(o&&o.windowId===t&&o.tabId===n)return e}return-1}(null==e?void 0:e.windowId,null==e?void 0:e.id);o(t)}}))));const e=(t,i)=>{n.sendMessage(t,{action:"setNumber",key:i})},o=t=>{n.sendMessage(t,{action:"clearNumber"})};chrome.commands.onCommand.addListener(((c,d)=>{if(/switch./.test(c))!function(n){t(this,void 0,void 0,(function*(){const t=i[Number(n)];t&&(yield chrome.windows.update(t.windowId,{focused:!0}),yield chrome.tabs.update(t.tabId,{active:!0}))}))}(c[c.length-1]);else if(/set./.test(c)){const d=Number(c[c.length-1]);chrome.notifications.clear("setTab"),chrome.notifications.create("setTab",{type:"basic",iconUrl:chrome.runtime.getURL("icon.png"),title:"设置成功",message:`设置当前标签页为${d}`,priority:0,silent:!0},(t=>{setTimeout((function(){chrome.notifications.clear(t)}),2e3)})),function(c){t(this,void 0,void 0,(function*(){const d=yield function(){return t(this,void 0,void 0,(function*(){const[t]=yield n.query({active:!0,currentWindow:!0});return t}))}(),r=yield chrome.windows.getCurrent();d&&r&&function(t,n){var c,d;const r=null===(c=i[t])||void 0===c?void 0:c.tabId;r&&o(r);let s=i.findIndex((t=>(null==t?void 0:t.tabId)===n.tabId&&(null==t?void 0:t.windowId)===n.windowId));if(s>=0){const t=null===(d=i[s])||void 0===d?void 0:d.tabId;o(t),i[s]=void 0}i[t]=n,e(n.tabId,t)}(c,{tabId:d.id,windowId:r.id})}))}(d)}}))}})[136]()})();